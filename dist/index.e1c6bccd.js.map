{"mappings":"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","sources":["client/script.js"],"sourcesContent":["\n      TweenMax.to(\".loading-screen\", 4, {\n            delay: 6.6,\n            top: \"-110%\",\n            ease: Expo.easeInOut\n      });\n\n      TweenMax.from(\".logo\", 3, {\n            delay: 8.4,\n            opacity: 0,\n            y: 20,\n            ease: Expo.easeInOut\n      });\n\n      TweenMax.from(\".contact\", 3, {\n            delay: 8.5,\n            opacity: 0,\n            y: 20,\n            ease: Expo.easeInOut\n      });\n\n      TweenMax.from(\".options\", 3, {\n            delay: 8.4,\n            opacity: 0,\n            y: 20,\n            ease: Expo.easeInOut\n      });\n\n      TweenMax.from(\".bottom-text\", 3, {\n            delay: 8.7,\n            opacity: 0,\n            y: 20,\n            ease: Expo.easeInOut\n      });\n\n      TweenMax.from(\".copyright\", 3, {\n            delay: 8.9,\n            opacity: 0,\n            y: 20,\n            ease: Expo.easeInOut\n      });\n\n      TweenMax.staggerFrom(\".media ul li\", 2, {\n            delay: 8.7,\n            opacity: 0,\n            y: 20,\n            ease: Power3.easeInOut\n      }, 0.1);\n\n      TweenMax.from(\".menu\", 3, {\n            delay: 8.8,\n            opacity: 0,\n            y: 20,\n            ease: Expo.easeInOut\n      });\n\n      TweenMax.from(\".p1\", 3, {\n            delay: 9,\n            opacity: 0,\n            y: 20,\n            ease: Expo.easeInOut\n      });\n\n      TweenMax.from(\".p2\", 3, {\n            delay: 9.2,\n            opacity: 0,\n            y: 20,\n            ease: Expo.easeInOut\n      });\n\n      TweenMax.from(\"#one\", 3, {\n            delay: 9.4,\n            opacity: 0,\n            y: 20,\n            ease: Expo.easeInOut\n      });\n\n      TweenMax.from(\"#two\", 3, {\n            delay: 9.7,\n            opacity: 0,\n            y: 20,\n            ease: Expo.easeInOut\n      });\n  \n      var t1 = new TimelineMax();\n\n      t1.from(\".ringOne\", 4, {\n            delay: 0.4,\n            opacity: 0,\n            y:40,\n            ease: Expo.easeInOut\n      }).from(\".ringTwo\", 4, {\n            delay: 0.9,\n            opacity: 0,\n            y: 40,\n            ease: Expo.easeInOut\n      }, \"-=5\").to(\".ringOne\", 4, {\n            delay: 0.4,\n            x: 40,\n            ease: Expo.easeInOut\n      }).to(\".ringTwo\", 4, {\n            delay: 0.9,\n            x: 40,\n            ease: Expo.easeInOut\n      },\"-=5\");\n\nvar textWrapper = document.querySelector('.ml7 .letters');\ntextWrapper.innerHTML = textWrapper.textContent.replace(/([^\\x00-\\x80]|\\w)/g, \"<span class='letter'>$&</span>\");\n\nanime.timeline({loop: false})\n  .add({\n    targets: '.ml7 .letter',\n    translateY: [\"1.1em\", 0],\n    translateX: [\"0.55em\", 0],\n    translateZ: 0,\n    rotateZ: [180, 0],\n    duration: 750,\n    easing: \"easeOutExpo\",\n    delay: function(el, i) {\n      return 9000 + 50 * i;\n    }\n  });\n\n\n  const api = \"http://localhost:8000\";\n  const runButton = document.getElementById(\"runButton\");\n  const hangupButton = document.getElementById(\"hangupButton\");\n  \n  const getAccount = async () => {\n    const response = await fetch(`${api}/sip`);\n    const { aor, endpoint } = await response.json();\n    return { aor, endpoint };\n  };\n  \n  const createUser = async (aor, server) => {\n    const user = new Web.SimpleUser(server, { aor });\n    await user.connect();\n    await user.register();\n    return user;\n  };\n  \n  const runCall = async (aor, name) => {\n    const data = { aor, name };\n    await fetch(`${api}/call`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(data),\n    });\n  };\n  \n  const main = async () => {\n    const { aor, endpoint } = await getAccount();\n    const user = await createUser(aor, endpoint);\n  \n    const audio = new Audio();\n    user.delegate = {\n      onCallReceived: async () => {\n        await user.answer();\n        runButton.hidden = true;\n        hangupButton.hidden = false;\n        hangupButton.disabled = false;\n        audio.srcObject = user.remoteMediaStream;\n        audio.play();\n      },\n      onCallHangup: () => {\n        audio.srcObject = null;\n        runButton.hidden = false;\n        runButton.disabled = false;\n        hangupButton.hidden = true;\n      },\n    };\n  \n    runButton.addEventListener(\"click\", async () => {\n      runButton.disabled = true;\n      runCall(aor, \"Peter\").catch(() => {\n        runButton.disabled = false;\n      });\n    });\n  \n    hangupButton.addEventListener(\"click\", async () => {\n      hangupButton.disabled = true;\n      await user.hangup().catch(() => {\n        hangupButton.disabled = false;\n      });\n    });\n  };\n  \n  main();"],"names":[],"version":3,"file":"index.e1c6bccd.js.map","sourceRoot":"/__parcel_source_root/"}